

<section class="page-form-ele page" ng-controller="taskAddCtrl">


    <div class="row ui-section">
        <div class="col-lg-8 clearfix"> <h2 class="section-header">添加任务</h2> </div>
        <div class="col-md-8 clearfix"> 
            <md-button class="md-raised btn-w-md md-primary changeClick" ng-click="backClick()">返回</md-button><div class="divider"></div>
        </div>
        <div class="col-md-12" ng-show="isShow==1">
            <section class="panel panel-default">
                <div class="panel-body">
                    <div class="row invitation-detail" >
                        <div class="col-lg-8 col-lg-offset-2">

                            <div layout="column" ng-cloak class="md-inline-form inputdemoBasicUsage">
                                <md-content layout-padding>
                                <form name="invitationForm" class="invitationForm">

                                    <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">任务名称：</label>
                                        <div class="col-sm-9">
                                            <input class="form-control" class="invitation" ng-model="task.taskName">
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">任务简介：</label>
                                        <div class="col-sm-9">
                                            <textarea class="form-control" ng-model="task.introduction" cols="40" rows="10"></textarea>
                                    </div>
                                </div>

                                <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">任务类别：</label>
                                        <div class="col-sm-9">
                                            <select ng-model="task.taskTypeId" class="form-control" >
                                                <option value="{{type.taskTypeId}}" ng-repeat="type in types">{{type.typeName}}</option>
                                            </select>
                                        </div>
                                </div>

                                   <!--  <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">应用名称：</label>
                                        <div class="col-sm-9">
                                            <select ng-model="task.appId" class="form-control">
                                                <option></option>
                                            </select>
                                        </div>
                                    </div> -->
                                    <div class="form-group clearfix" ng-show="task.taskTypeId==1">
                                          <label for="" class="col-sm-3 control-label">应用名称：</label>
                                          <div class="col-sm-9">
                                              <input class="form-control" class="userId" ng-model="appName" ng-change="searchApp()" style="width: 300px;font-size: 10px;" placeholder="通过应用名称搜索">

                                              <ul style="overflow: auto;width: 300px;height: 100px" ng-if="searchShow==1">
                                                <li ng-repeat="app in appInfo" id="app-{{app.appId}}" ng-click="clickContent(app.appId)" ng-mouseover="mouseOver(app.appId)" ng-mouseleave="mouseLeave(app.appId)">{{app.name}}</li>
                                              </ul>
                                          </div>
                                        </div>

                                    <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">链接：</label>
                                        <div class="col-sm-9">
                                            <input class="form-control" class="invitation" ng-model="task.link">
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">奖励类型：</label>
                                        <div class="col-sm-9">
                                            <select ng-model="task.activated" class="form-control">
                                                <option value="1">墨客币</option>
                                                <option value="2">井通</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">奖励数量：</label>
                                        <div class="col-sm-9">
                                            <input class="form-control" class="invitation" ng-model="task.rewardMoney">
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">允许完成次数：</label>
                                        <div class="col-sm-9">
                                            <input class="form-control" class="invitation" ng-model="task.allowNumber">
                                        </div>
                                    </div>

                                    <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">弹窗级别：</label>
                                        <div class="col-sm-9">
                                            <select ng-model="task.poupLeve" class="form-control">
                                                <option value="1">1级</option>
                                                <option value="2">2级</option>
                                                <option value="3">3级</option>
                                                <option value="4">4级</option>
                                                <option value="5">不弹窗</option>
                                            </select>
                                        </div>
                                </div>


                                <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">开始时间：</label>
                                        <div class="col-sm-9">
                                            <input type="text" id="startDate" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" class="form-control"
                        data-ng-model="task.startDate"  data-ng-keyup="search()" placeholder="开始日期">
                                        </div>
                                </div>

                                <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">结束时间：</label>
                                        <div class="col-sm-9">
                                            <input type="text" id="endDate" onfocus="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" class="form-control"
                        data-ng-model="task.endDate"  data-ng-keyup="search()" placeholder="结束日期">
                                        </div>
                                </div>


                                <div class="form-group clearfix">
                                        <label for="" class="col-sm-3 control-label">状态</label>
                                        <div class="col-sm-9">
                                            <select ng-model="task.status" class="form-control">
                                                <option value="1">正常</option>
                                                <option value="0">失效</option>
                                            </select>
                                        </div>
                                </div>



                                <div layout layout-sm='column' class="changeConfirm add-btn">
                                    <md-button class="md-raised btn-w-md md-primary" ng-click="addtask()">确定添加</md-button><div class="divider"></div>
                                </div>

                            </form>
                        </md-content>
                    </div>
                </div>
            </div>
        </div>
    </section>    
</div>
</div>
</section>
